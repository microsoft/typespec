openapi: 3.0.0
info:
  title: Authenticated service
  version: '0000-00-00'
tags: []
paths:
  /:
    get:
      operationId: test
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: string
security:
  - BearerAuth: []
  - ApiKeyAuth: []
    BasicAuth: []
  - OAuth2Auth:
      - read
      - write
components:
  schemas:
    MyFlow:
      type: object
      properties:
        type:
          type: string
          enum:
            - implicit
        authorizationUrl:
          type: string
          enum:
            - https://api.example.com/oauth2/authorize
        refreshUrl:
          type: string
          enum:
            - https://api.example.com/oauth2/refresh
        scopes:
          type: array
          items: {}
          x-typespec-name: '[read, write]'
      required:
        - type
        - authorizationUrl
        - refreshUrl
        - scopes
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      description: >-
        Bearer authentication (also called token authentication) is an HTTP
        authentication scheme that involves security tokens called bearer
        tokens.

        The name “Bearer authentication” can be understood as “give access to
        the bearer of this token.” The bearer token is a cryptic string, usually
        generated by the server in response to a login request.

        The client must send this token in the Authorization header when making
        requests to protected resources:

        ```

        Authorization: Bearer <token>

        ```
    ApiKeyAuth:
      type: apiKey
      in: header
      name: x-my-header
      description: >-
        An API key is a token that a client provides when making API calls. The
        key can be sent in the query string:


        ```

        GET /something?api_key=abcdef12345

        ```


        or as a request header


        ```

        GET /something HTTP/1.1

        X-API-Key: abcdef12345

        ```


        or as a cookie


        ```

        GET /something HTTP/1.1

        Cookie: X-API-KEY=abcdef12345

        ```
    BasicAuth:
      type: http
      scheme: basic
      description: >-
        Basic authentication is a simple authentication scheme built into the
        HTTP protocol.

        The client sends HTTP requests with the Authorization header that
        contains the word Basic word followed by a space and a base64-encoded
        string username:password.

        For example, to authorize as demo / `p@55w0rd` the client would send

        ```

        Authorization: Basic ZGVtbzpwQDU1dzByZA==

        ```
    OAuth2Auth:
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://api.example.com/oauth2/authorize
          refreshUrl: https://api.example.com/oauth2/refresh
          scopes:
            read: ''
            write: ''
      description: >-
        OAuth 2.0 is an authorization protocol that gives an API client limited
        access to user data on a web server.

        OAuth relies on authentication scenarios called flows, which allow the
        resource owner (user) to share the protected content from the resource
        server without sharing their credentials.

        For that purpose, an OAuth 2.0 server issues access tokens that the
        client applications can use to access protected resources on behalf of
        the resource owner.

        For more information about OAuth 2.0, see oauth.net and RFC 6749.
