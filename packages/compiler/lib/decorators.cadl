import "../dist/lib/decorators.js";

using Cadl.Reflection;

namespace Cadl;

extern dec summary(target: unknown, summary: string);
extern dec doc(target: unknown, doc: string, formatArgs?: Model);
extern dec deprecated(target: unknown, message: string);

model ServiceOptions {
  title?: string;
  version?: string;
}
extern dec service(target: unknown, options?: ServiceOptions);

extern dec error(target: Model);

extern dec format(target: Model | ModelProperty, format: string);
extern dec pattern(target: Model | ModelProperty, pattern: string);

extern dec minLength(target: Model | ModelProperty, value: integer);
extern dec maxLength(target: Model | ModelProperty, value: integer);

extern dec minItems(target: unknown[] | ModelProperty, value: integer);
extern dec maxItems(target: unknown[] | ModelProperty, value: integer);

extern dec minValue(target: Model | ModelProperty, value: numeric);
extern dec maxValue(target: Model | ModelProperty, value: numeric);

extern dec secret(target: Model | ModelProperty);
extern dec tag(target: Namespace | Interface | Operation, tag: string);
extern dec friendlyName(target: unknown, name: string, formatArgs?: unknown);
extern dec knownValues(target: Model | ModelProperty, values: Enum);
extern dec key(target: ModelProperty, altName?: string);
extern dec overload(target: Operation, overloadbase: Operation);
extern dec projectedName(target: unknown, targetName: string, projectedName: string);
extern dec discriminator(target: Model | Union, propertyName: string);

extern dec visibility(target: ModelProperty, ...visibilities: string[]);
extern dec withVisibility(target: Model, ...visibilities: string[]);
extern dec withDefaultKeyVisibility(target: Model, visibility: unknown);
extern dec withUpdateableProperties(target: Model);
extern dec withoutDefaultValues(target: Model);
extern dec withoutOmittedProperties(target: Model, omit: string | Union);

//---------------------------------------------------------------------------
// Debugging
//---------------------------------------------------------------------------
extern dec inspectType(target: unknown, text: string);
extern dec inspectTypeName(target: unknown, text: string);
