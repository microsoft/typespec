# This file is generated by the sync-labels script DO NOT EDIT manually
id: issues.triage
name: New Issue Assign labels
description: Assign labels to new issues
resource: repository
disabled: false
configuration:
  resourceManagementConfiguration:
    eventResponderTasks:
      - description: Adds `needs-area` label for new unassigned issues
        if:
          - payloadType: Issues
          - isAction:
              action: Opened
          - not:
              and:
                - isAssignedToSomeone
        then:
          - addLabel:
              label: needs-area
      - description: Remove `needs-area` label when an area label is added
        if:
          - payloadType: Issues
          - hasLabel:
              label: needs-area
          - isOpen
          - or:
              - labelAdded:
                  label: compiler:core
              - labelAdded:
                  label: compiler:emitter-framework
              - labelAdded:
                  label: ide
              - labelAdded:
                  label: lib:http
              - labelAdded:
                  label: lib:openapi
              - labelAdded:
                  label: lib:rest
              - labelAdded:
                  label: lib:versioning
              - labelAdded:
                  label: meta:blog
              - labelAdded:
                  label: meta:website
              - labelAdded:
                  label: tspd
              - labelAdded:
                  label: emitter:client:csharp
              - labelAdded:
                  label: emitter:json-schema
              - labelAdded:
                  label: emitter:protobuf
              - labelAdded:
                  label: emitter:service:csharp
              - labelAdded:
                  label: emitter:service:js
              - labelAdded:
                  label: eng
        then:
          - removeLabel:
              label: needs-area
      - description: Add `needs-area` back when all area labels are removed
        if:
          - payloadType: Issues
          - not:
              hasLabel:
                label: needs-area
          - isOpen
          - or:
              - labelRemoved:
                  label: compiler:core
              - labelRemoved:
                  label: compiler:emitter-framework
              - labelRemoved:
                  label: ide
              - labelRemoved:
                  label: lib:http
              - labelRemoved:
                  label: lib:openapi
              - labelRemoved:
                  label: lib:rest
              - labelRemoved:
                  label: lib:versioning
              - labelRemoved:
                  label: meta:blog
              - labelRemoved:
                  label: meta:website
              - labelRemoved:
                  label: tspd
              - labelRemoved:
                  label: emitter:client:csharp
              - labelRemoved:
                  label: emitter:json-schema
              - labelRemoved:
                  label: emitter:protobuf
              - labelRemoved:
                  label: emitter:service:csharp
              - labelRemoved:
                  label: emitter:service:js
              - labelRemoved:
                  label: eng
          - not:
              or:
                - hasLabel:
                    label: compiler:core
                - hasLabel:
                    label: compiler:emitter-framework
                - hasLabel:
                    label: ide
                - hasLabel:
                    label: lib:http
                - hasLabel:
                    label: lib:openapi
                - hasLabel:
                    label: lib:rest
                - hasLabel:
                    label: lib:versioning
                - hasLabel:
                    label: meta:blog
                - hasLabel:
                    label: meta:website
                - hasLabel:
                    label: tspd
                - hasLabel:
                    label: emitter:client:csharp
                - hasLabel:
                    label: emitter:json-schema
                - hasLabel:
                    label: emitter:protobuf
                - hasLabel:
                    label: emitter:service:csharp
                - hasLabel:
                    label: emitter:service:js
                - hasLabel:
                    label: eng
        then:
          - removeLabel:
              label: needs-area
