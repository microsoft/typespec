steps:
  - template: /eng/pipelines/templates/install.yml
  - script: pnpm run check-version-mismatch
    displayName: Check version mismatch

  - template: /eng/pipelines/templates/build.yml

  - script: pnpm run test:e2e
    displayName: E2E Tests

  - task: 1ES.PublishPipelineArtifact@1
    inputs:
      path: ./packages/playground-website/test-results
      artifact: "uitestresults-${{ parameters.os }}-node-${{ parameters.nodeVersion }}"
    displayName: Publish UI tests artifacts
    condition: ne(variables['Agent.OS'], 'Windows_NT')
